<!DOCTYPE html>
<html lang="el" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MediRadar</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] },
          colors: { brand: { 500:'#29a3a3', 600:'#208181', 700:'#196464' } },
          boxShadow: { soft:'0 16px 40px rgba(2,6,23,.12)' }
        }
      }
    }
  </script>

  <style>
    /* Î–Ï‰Î½Ï„Î±Î½ÏŒ Ï†ÏŒÎ½Ï„Î¿ Ï€Î¿Ï… Î¾ÎµÎ¸Ï‰ÏÎ¹Î¬Î¶ÎµÎ¹ */
    .app-bg{
      background:
        radial-gradient(1100px 600px at 0% -10%, rgba(132,197,244,.30), transparent 60%),
        radial-gradient(900px 540px at 110% 0%, rgba(199,166,244,.22), transparent 58%),
        radial-gradient(1000px 600px at 25% 120%, rgba(247,141,167,.18), transparent 62%),
        radial-gradient(800px 520px at 120% 120%, rgba(157,224,214,.20), transparent 60%),
        linear-gradient(180deg, #f6fbfb 0%, #f8fafc 40%, #fbfcfe 100%);
    }
    .dark .app-bg{
      background:
        radial-gradient(1100px 600px at 0% -10%, rgba(132,197,244,.16), transparent 60%),
        radial-gradient(900px 540px at 110% 0%, rgba(199,166,244,.14), transparent 58%),
        radial-gradient(1000px 600px at 25% 120%, rgba(247,141,167,.12), transparent 62%),
        radial-gradient(800px 520px at 120% 120%, rgba(157,224,214,.12), transparent 60%),
        linear-gradient(180deg, #0b1515, #0b1515 45%, #0b1515 100%);
    }
    /* Autocomplete dropdown */
    .ac-list { position:absolute; inset-inline:0; top:100%; z-index:40 }
    .ac-item { cursor:pointer }
  </style>
</head>
<body class="min-h-full app-bg text-slate-900 dark:text-slate-200 font-sans">

  <!-- SPLASH -->
  <section id="splash" class="min-h-[100svh] grid place-items-center relative px-4">
    <!-- Î”Î¹Î±ÎºÏÎ¹Ï„Î¹ÎºÏŒ ÎºÎ¿Ï…Î¼Ï€Î¯ Î³Î¹Î± ÎµÏ€Î±Î³Î³ÎµÎ»Î¼Î±Ï„Î¯ÎµÏ‚ -->
    <a href="/pharmacy.html"
       class="absolute top-4 right-4 inline-flex items-center gap-2 px-3 py-1.5 rounded-xl bg-white/80 backdrop-blur border border-slate-200 shadow-sm hover:bg-white transition text-sm">
      <span>Î“Î¹Î± ÎµÏ€Î±Î³Î³ÎµÎ»Î¼Î±Ï„Î¯ÎµÏ‚</span>
      <span class="hidden sm:inline text-slate-500">/ Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Ï‰Î½</span>
    </a>

    <div class="w-full max-w-xl text-center">
      <!-- Logo placeholder -->
      <div class="mx-auto w-24 h-24 rounded-3xl bg-brand-600 text-white grid place-items-center shadow-soft">
        <svg viewBox="0 0 24 24" class="w-10 h-10" aria-hidden="true">
          <path fill="currentColor" d="M11 2h2v3.06A7 7 0 0 1 18.94 11H22v2h-3.06A7 7 0 0 1 13 18.94V22h-2v-3.06A7 7 0 0 1 5.06 13H2v-2h3.06A7 7 0 0 1 11 5.06V2Zm1 5a5 5 0 1 0 0 10a5 5 0 0 0 0-10Z"/>
        </svg>
      </div>

      <h1 class="mt-5 text-3xl sm:text-4xl font-extrabold tracking-tight">MediRadar</h1>
      <p class="mt-2 text-slate-600 dark:text-slate-400">Î†Î¼ÎµÏƒÎ· ÎµÏÏÎµÏƒÎ· Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±Ï‚ Ï†Î±ÏÎ¼Î¬ÎºÏ‰Î½ ÏƒÎµ ÎºÎ¿Î½Ï„Î¹Î½Î¬ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Î±.</p>

      <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-3">
        <button id="cta-search"
          class="px-5 py-3 rounded-xl bg-gradient-to-r from-brand-500 to-brand-600 text-white font-semibold shadow-soft hover:opacity-95">
          Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¦Î±ÏÎ¼Î¬ÎºÎ¿Ï…
        </button>
        <button id="cta-how"
          class="px-5 py-3 rounded-xl bg-white/85 backdrop-blur border border-slate-200 hover:bg-white font-semibold">
          Î ÏÏ‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯
        </button>
        <button id="cta-signin"
          class="px-5 py-3 rounded-xl bg-white/85 backdrop-blur border border-slate-200 hover:bg-white font-semibold">
          Î£ÏÎ½Î´ÎµÏƒÎ·
        </button>
      </div>
    </div>
  </section>

  <!-- APP -->
  <main id="app" class="hidden mx-auto max-w-3xl px-4 pb-16">
    <!-- ÎšÎ¿Î¹Î½ÏŒÏ‚ header Î¼Îµ "ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î®" -->
    <header class="sticky top-0 z-30 -mt-3 mb-4">
      <div class="flex items-center justify-between px-2 py-3 rounded-2xl bg-white/80 dark:bg-slate-900/70 backdrop-blur border border-slate-200 dark:border-slate-800">
        <div class="flex items-center gap-2">
          <button id="backHome" class="px-3 py-1.5 rounded-lg border text-sm hover:bg-slate-50 dark:hover:bg-slate-800">â† Î‘ÏÏ‡Î¹ÎºÎ®</button>
          <span class="font-semibold">Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î¦Î±ÏÎ¼Î¬ÎºÎ¿Ï…</span>
        </div>
        <a href="/pharmacy.html" class="text-sm underline underline-offset-4">Î•Î¯ÏƒÎ¿Î´Î¿Ï‚ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Î¿Ï…</a>
      </div>
    </header>

    <!-- ÎšÎ¬ÏÏ„ÎµÏ‚ Ï€ÎµÎ´Î¯Ï‰Î½ Î¼Îµ ICON + AUTOCOMPLETE -->
    <section class="grid grid-cols-1 gap-4 sm:gap-5">
      <!-- ÎŒÎ½Î¿Î¼Î± Î¦Î±ÏÎ¼Î¬ÎºÎ¿Ï… -->
      <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
        <label class="text-sm font-semibold flex items-center gap-2">
          <!-- ÎµÎ¹ÎºÎ¿Î½Î¯Î´Î¹Î¿ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ -->
          <span class="w-6 h-6 grid place-items-center">
            ğŸ”
          </span>
          ÎŒÎ½Î¿Î¼Î± Î¦Î±ÏÎ¼Î¬ÎºÎ¿Ï…
        </label>
        <div class="mt-2 relative">
          <input id="medicine-name" type="text" autocomplete="off"
                 class="w-full px-3 py-3 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 focus:outline-none focus:ring-4 focus:ring-brand-500/30 placeholder:text-slate-400"
                 placeholder="Ï€.Ï‡. Augmentin 875mg" />
          <div id="ac-medicine" class="ac-list hidden rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg"></div>
        </div>
        <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">Î£Ï…Î¼Î²Î¿Ï…Î»Î®: Î•Î¼Ï€Î¿ÏÎ¹ÎºÎ® Î¿Î½Î¿Î¼Î±ÏƒÎ¯Î± + Î´Î¿ÏƒÎ¿Î»Î¿Î³Î¯Î± (Ï€.Ï‡. â€œ500mgâ€).</p>
      </div>

      <!-- Î”ÏÎ±ÏƒÏ„Î¹ÎºÎ® ÎŸÏ…ÏƒÎ¯Î± -->
      <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
        <label class="text-sm font-semibold flex items-center gap-2">
          <!-- ÎµÎ¹ÎºÎ¿Î½Î¯Î´Î¹Î¿ Î´Î¿ÎºÎ¹Î¼Î±ÏƒÏ„Î¹ÎºÎ¿Ï ÏƒÏ‰Î»Î®Î½Î± -->
          <span class="w-6 h-6 grid place-items-center">ğŸ§ª</span>
          Î”ÏÎ±ÏƒÏ„Î¹ÎºÎ® ÎŸÏ…ÏƒÎ¯Î± <span class="text-slate-400 ml-1">(Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ¬)</span>
        </label>
        <div class="mt-2 relative">
          <input id="active-substance" type="text" autocomplete="off"
                 class="w-full px-3 py-3 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 focus:outline-none focus:ring-4 focus:ring-brand-500/30 placeholder:text-slate-400"
                 placeholder="Ï€.Ï‡. Î Î±ÏÎ±ÎºÎµÏ„Î±Î¼ÏŒÎ»Î·" />
          <div id="ac-substance" class="ac-list hidden rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 shadow-lg"></div>
        </div>
        <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î´Î¿ÏƒÎ¿Î»Î¿Î³Î¯Î±Ï‚: Paracetamol 500mg.</p>
      </div>

      <!-- Î¤ÏÏ€Î¿Ï‚ + Î Î¿ÏƒÏŒÏ„Î·Ï„Î± -->
      <div class="grid sm:grid-cols-2 gap-4">
        <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
          <label class="text-sm font-semibold flex items-center gap-2">
            <span class="w-6 h-6 grid place-items-center">ğŸ’Š</span>
            Î¤ÏÏ€Î¿Ï‚ Î¦Î±ÏÎ¼Î¬ÎºÎ¿Ï…
          </label>
          <select id="medicine-type"
                  class="mt-2 w-full px-3 py-3 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 focus:outline-none focus:ring-4 focus:ring-brand-500/30">
            <option value="">â€” Î•Ï€Î¹Î»Î¿Î³Î® â€”</option>
            <option>Î£ÎºÏŒÎ½Î·</option>
            <option>Î¥Î³ÏÏŒ</option>
            <option>Î§Î¬Ï€Î¹</option>
            <option>Î”ÎµÏÎ¼Î±Ï„Î¹ÎºÎ® ÎšÏÎ­Î¼Î±</option>
            <option>Î‘Î»Î¿Î¹Ï†Î®</option>
            <option>Î Î­Î½Î± (Ï€ÏÎ¿Î³ÎµÎ¼Î¹ÏƒÎ¼Î­Î½Î·)</option>
            <option>Î•Ï€Î¯Î¸ÎµÎ¼Î±</option>
          </select>
        </div>

        <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
          <label class="text-sm font-semibold flex items-center gap-2">
            <span class="w-6 h-6 grid place-items-center">ğŸ“¦</span>
            Î Î¿ÏƒÏŒÏ„Î·Ï„Î± (Ï„ÎµÎ¼Î¬Ï‡Î¹Î±/ÎºÎ¿Ï…Ï„Î¹Î¬)
          </label>
          <input id="quantity" type="number" min="1" value="1" required
                 class="mt-2 w-full px-3 py-3 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 focus:outline-none focus:ring-4 focus:ring-brand-500/30" />
        </div>
      </div>

      <!-- Î ÏŒÎ»Î· -->
      <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
        <label class="text-sm font-semibold flex items-center gap-2">
          <span class="w-6 h-6 grid place-items-center">ğŸ“</span>
          Î ÏŒÎ»Î·
        </label>
        <input id="city" type="text" required placeholder="Ï€.Ï‡. Î‘Î¸Î®Î½Î±"
               class="mt-2 w-full px-3 py-3 rounded-xl border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 focus:outline-none focus:ring-4 focus:ring-brand-500/30" />
      </div>

      <!-- GDPR + Î¥Ï€Î¿Î²Î¿Î»Î® -->
      <div class="rounded-2xl bg-white/90 dark:bg-slate-900/60 backdrop-blur border border-slate-200 dark:border-slate-800 p-4 shadow-soft">
        <label class="inline-flex items-start gap-3">
          <input id="gdpr-checkbox" type="checkbox" required class="mt-0.5 size-5 accent-brand-600">
          <span class="text-sm">Î‘Ï€Î¿Î´Î­Ï‡Î¿Î¼Î±Î¹ Ï„Î¿Ï…Ï‚ <button type="button" id="gdpr-open" class="underline text-brand-700">ÎŒÏÎ¿Ï…Ï‚ Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ & GDPR</button>.</span>
        </label>
        <div class="mt-4 flex justify-end">
          <button id="submitBtn" class="px-5 py-3 rounded-xl bg-gradient-to-r from-brand-500 to-brand-600 text-white font-semibold shadow-soft hover:opacity-95">
            Î¥Ï€Î¿Î²Î¿Î»Î® Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚
          </button>
        </div>
      </div>
    </section>
  </main>

  <!-- HOW-IT-WORKS modal -->
  <div id="modal-how" class="fixed inset-0 hidden items-center justify-center bg-black/40 p-4">
    <div class="w-full max-w-2xl rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
      <div class="flex items-center justify-between px-5 py-4 border-b border-slate-200 dark:border-slate-800">
        <h3 class="text-lg font-bold">Î ÏÏ‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ Ï„Î¿ MediRadar</h3>
        <button id="how-close" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl">âœ•</button>
      </div>
      <div class="p-5 leading-relaxed text-slate-700 dark:text-slate-300">
        <ol class="list-decimal pl-5 space-y-2">
          <li>Î Î»Î·ÎºÏ„ÏÎ¿Î»ÏŒÎ³Î·ÏƒÎµ Ï„Î¹ ÏˆÎ¬Ï‡Î½ÎµÎ¹Ï‚ (ÎµÎ¼Ï€Î¿ÏÎ¹ÎºÎ® Î¿Î½Î¿Î¼Î±ÏƒÎ¯Î± Î® Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ®).</li>
          <li>Î— Î±Î¯Ï„Î·ÏƒÎ® ÏƒÎ¿Ï… ÏƒÏ„Î­Î»Î½ÎµÏ„Î±Î¹ ÏƒÏ„Î± ÎºÎ¿Î½Ï„Î¹Î½Î¬ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Î±.</li>
          <li>ÎŒÏ€Î¿Î¹Î¿ Î­Ï‡ÎµÎ¹ <strong>Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±</strong> Î±Ï€Î±Î½Ï„Î¬ Î¸ÎµÏ„Î¹ÎºÎ¬ â€“ Î¸Î± Ï„Î¿ Î´ÎµÎ¹Ï‚ Î¬Î¼ÎµÏƒÎ±.</li>
          <li>Î•Ï€Î¹Î»Î­Î³ÎµÎ¹Ï‚ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Î¿ ÎºÎ±Î¹ Ï€ÎµÏÎ½Î¬Ï‚ Î³Î¹Î± <strong>self pick-up</strong>.</li>
          <li>Î”ÎµÎ½ Î¶Î·Ï„Î¬Î¼Îµ Ï„Î¹Î¼Î­Ï‚âˆ™ Î¼ÏŒÎ½Î¿ Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±.</li>
        </ol>
      </div>
      <div class="px-5 pb-5 flex justify-end">
        <button id="how-ok" class="px-4 py-2 rounded-xl bg-brand-600 text-white font-semibold hover:opacity-95">Î£Ï…Î½Î­Ï‡ÎµÎ¹Î±</button>
      </div>
    </div>
  </div>

  <!-- GDPR modal (Î¼Î¹ÎºÏÏŒ placeholder) -->
  <div id="gdpr-modal" class="fixed inset-0 hidden items-center justify-center bg-black/40 p-4">
    <div class="w-full max-w-2xl rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
      <div class="flex items-center justify-between px-5 py-4 border-b">
        <h3 class="text-lg font-bold">ÎŒÏÎ¿Î¹ Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚ & GDPR</h3>
        <button id="gdpr-close" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl">âœ•</button>
      </div>
      <div class="p-5 text-sm text-slate-700 dark:text-slate-300">
        <p><strong>Î£ÎºÎ¿Ï€ÏŒÏ‚:</strong> ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Î´Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±Ï‚ Ï†Î±ÏÎ¼Î¬ÎºÏ‰Î½ Î±Ï€ÏŒ Ï†Î±ÏÎ¼Î±ÎºÎµÎ¯Î±.</p>
        <p><strong>ÎÎ¿Î¼Î¹ÎºÎ® Î²Î¬ÏƒÎ·:</strong> GDPR 6(1)(b) ÎºÎ±Î¹ 6(1)(a) Î³Î¹Î± Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ¬ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î±.</p>
        <p><strong>Î”ÎµÎ´Î¿Î¼Î­Î½Î±:</strong> ÏŒÎ½Î¿Î¼Î±/Î´ÏÎ±ÏƒÏ„Î¹ÎºÎ®, Ï„ÏÏ€Î¿Ï‚, Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î±, Ï€ÏŒÎ»Î·.</p>
        <p><strong>Î”Î¹Î±Ï„Î®ÏÎ·ÏƒÎ·:</strong> Î­Ï‰Ï‚ 30 Î·Î¼Î­ÏÎµÏ‚ (Î±Î½Ï‰Î½Ï…Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ·/Î´Î¹Î±Î³ÏÎ±Ï†Î® Î¼ÎµÏ„Î¬).</p>
      </div>
      <div class="px-5 pb-5 flex justify-end">
        <button id="gdpr-ok" class="px-4 py-2 rounded-xl bg-brand-600 text-white font-semibold hover:opacity-95">ÎŸÎš</button>
      </div>
    </div>
  </div>

  <script>
    /* ---------- Navigation (Splash <-> App) ---------- */
    const splash = document.getElementById('splash');
    const app = document.getElementById('app');

    document.getElementById('cta-search').addEventListener('click', ()=>{
      splash.classList.add('hidden');
      app.classList.remove('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    document.getElementById('backHome').addEventListener('click', ()=>{
      app.classList.add('hidden');
      splash.classList.remove('hidden');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    document.getElementById('cta-how').addEventListener('click', ()=>{
      const m = document.getElementById('modal-how'); m.classList.remove('hidden'); m.classList.add('flex');
    });
    document.getElementById('how-close').onclick = ()=> document.getElementById('modal-how').classList.add('hidden');
    document.getElementById('how-ok').onclick    = ()=> document.getElementById('modal-how').classList.add('hidden');

    const modalGdpr = document.getElementById('gdpr-modal');
    document.getElementById('gdpr-open').onclick = ()=> { modalGdpr.classList.remove('hidden'); modalGdpr.classList.add('flex'); };
    document.getElementById('gdpr-close').onclick= ()=> modalGdpr.classList.add('hidden');
    document.getElementById('gdpr-ok').onclick   = ()=> modalGdpr.classList.add('hidden');

    document.getElementById('cta-signin').addEventListener('click', ()=>{
      alert('Î£ÏÎ½Î´ÎµÏƒÎ·: Î¸Î± Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸ÎµÎ¯ Î±ÏÎ³ÏŒÏ„ÎµÏÎ± (Supabase Auth).');
    });

    /* ---------- Autocomplete (Ï„Î¿Ï€Î¹ÎºÏŒ demo) ---------- */
    const AC_MEDICINES = [
      'Augmentin 875mg/125mg','Depon 500mg','Panadol 500mg','Nurofen 400mg',
      'Algofren 400mg','Zylapour 300mg','Salospir 100mg','Tavor 1mg',
      'Vibramycin 100mg','Amoxil 500mg','Losec 20mg','Plavix 75mg',
      'Zyrtec 10mg','Cetirizine 10mg','Amoxil 875/125mg'
    ];
    const AC_SUBSTANCES = [
      'Paracetamol 500mg','Ibuprofen 400mg','Amoxicillin 500mg',
      'Amoxicillin/Clavulanate 875/125mg','Aspirin 100mg','Cetirizine 10mg'
    ];

    function attachAutocomplete(inputId, listId, data){
      const input = document.getElementById(inputId);
      const list = document.getElementById(listId);
      let idx = -1;

      function render(items){
        list.innerHTML = items.map((x,i)=>`
          <div class="ac-item px-3 py-2 text-sm hover:bg-brand-50 dark:hover:bg-slate-800 ${i===idx?'bg-brand-50 dark:bg-slate-800':''}" data-val="${x}">
            ${x}
          </div>`).join('');
        list.classList.toggle('hidden', items.length===0);
      }
      function filter(q){
        if(!q){ render([]); return; }
        const res = data.filter(s => s.toLowerCase().includes(q.toLowerCase())).slice(0,6);
        render(res);
      }
      input.addEventListener('input', ()=>{ idx=-1; filter(input.value.trim()); });
      input.addEventListener('keydown', (e)=>{
        const items = [...list.querySelectorAll('.ac-item')];
        if(!items.length) return;
        if(e.key==='ArrowDown'){ idx=(idx+1)%items.length; render(items.map(n=>n.dataset.val)); e.preventDefault(); }
        else if(e.key==='ArrowUp'){ idx=(idx-1+items.length)%items.length; render(items.map(n=>n.dataset.val)); e.preventDefault(); }
        else if(e.key==='Enter'){ if(idx>=0){ input.value = items[idx].dataset.val; render([]); } }
        else if(e.key==='Escape'){ render([]); }
      });
      list.addEventListener('click', (e)=>{
        const item = e.target.closest('.ac-item'); if(!item) return;
        input.value = item.dataset.val; list.classList.add('hidden');
      });
      document.addEventListener('click', (e)=>{ if(!list.contains(e.target) && e.target!==input){ list.classList.add('hidden'); }});
    }
    attachAutocomplete('medicine-name','ac-medicine',AC_MEDICINES);
    attachAutocomplete('active-substance','ac-substance',AC_SUBSTANCES);

    /* ---------- Dummy submit (UI Î¼ÏŒÎ½Î¿) ---------- */
    document.getElementById('submitBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      // Î•Î´Ï Î±ÏÎ³ÏŒÏ„ÎµÏÎ± Î¸Î± ÎºÎ¿Ï…Î¼Ï€ÏÏƒÎµÎ¹ Ï„Î¿ backend fetch.
      alert('Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ (UI demo).');
    });
  </script>
</body>
</html>
